/*! For license information please see 1.bundle.6dcb483.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{122:function(e,t){e.exports='<span class="separator">/<span>\n<a href="<%- path %>" class="crumb"><%- text %></a>\n'},123:function(e,t){e.exports='<li><a href="<%- path %>" class="fav" aria-labelledby="blip"><%- title %></a></li>\n'},124:function(e,t){e.exports='<li class="pattern-relateditems-recentlyused">\n  <a class="pattern-relateditems-recentlyused-select" data-uid="<%- UID %>">\n    <div class="pattern-relateditems-recentlyused-info">\n      <span\n        class="pattern-relateditems-recentlyused-title <%- portal_type ? \'contenttype-\' + portal_type.toLowerCase() : \'\' %> <%- review_state ? \'state-\' + review_state : \'\' %>"\n        title="<%- portal_type %>">\n        <%- Title %>\n      </span>\n      <span class="pattern-relateditems-recentlyused-path"><%- path %></span>\n    </div>\n    <% if (getURL && (getIcon || portal_type === "Image")) { %>\n      <div class="pattern-relateditems-recentlyused-image">\n        <img src="<%- getURL %>/@@images/image/tile" />\n      </div>\n    <% } %>\n  </a>\n</li>\n'},125:function(e,t){e.exports='<div class="pattern-relateditems-result <%- oneLevelUp ? \'one-level-up\' : \'\' %>">\n  <div class="pattern-relateditems-result-browse-wrapper">\n  <% if (!oneLevelUp) { %>\n    <a\n      class="pattern-relateditems-result-select<%- selectable ? \' selectable\' : \'\' %><%- oneLevelUp ? \' one-level-up\' : \'\' %>"\n      data-path="<%- path %>">\n  <% } %>\n      <div class="pattern-relateditems-result-info">\n        <span\n          class="pattern-relateditems-result-title <%- portal_type ? \'contenttype-\' + portal_type.toLowerCase() : \'\' %> <%- review_state ? \'state-\' + review_state : \'\' %>"\n          title="<%- portal_type %>">\n          <%- Title %>\n        </span>\n        <span class="pattern-relateditems-result-path"><%- oneLevelUp ? currentPath : path %></span>\n      </div>\n      <% if (is_folderish) { %>\n        <a\n          class="pattern-relateditems-result-browse"\n          data-path="<%- path %>"\n          title="<%- oneLevelUp ? one_level_up : open_folder %>">\n          <span class="<%- oneLevelUp ? \'icon-left-circle\' : \'icon-right-circle\' %>"></span>\n        </a>\n      <% } %>\n  <% if (!oneLevelUp) { %>\n    </a>\n  <% } %>\n  </div>\n  <% if (getURL && (getIcon || portal_type === "Image")) { %>\n    <% if (!oneLevelUp) { %>\n    <a\n      class="pattern-relateditems-result-select<%- selectable ? \' selectable\' : \'\' %><%- oneLevelUp ? \' one-level-up\' : \'\' %>"\n      data-path="<%- path %>">\n    <% } %>\n    <div class="pattern-relateditems-result-image">\n      <img src="<%- getURL %>/@@images/image/thumb" />\n    </div>\n    <% if (!oneLevelUp) { %>\n    </a>\n    <% } %>\n  <% } %>\n</div>\n'},126:function(e,t){e.exports='<div class="pattern-relateditems-item">\n  <div class="pattern-relateditems-result-info">\n    <span\n      class="pattern-relateditems-item-title <%- portal_type ? \'contenttype-\' + portal_type.toLowerCase() : \'\' %> <%- review_state ? \'state-\' + review_state : \'\' %>"\n      title="<%- portal_type %>">\n      <%- Title %>\n    </span>\n    <span class="pattern-relateditems-item-path"><%- path %></span>\n  </div>\n  <% if (getURL && (getIcon || portal_type === "Image")) { %>\n    <div class="pattern-relateditems-item-image">\n      <img src="<%- getURL %>/@@images/image/thumb" />\n    </div>\n  <% } %>\n</div>\n'},127:function(e,t){e.exports='<% if (mode!==\'auto\') { %>\n<div class="btn-group mode-selector" role="group">\n  <button type="button" class="mode search btn <% if (mode==\'search\') { %>btn-primary<% } else {%>btn-default<% } %>"><%- searchModeText %></button>\n  <button type="button" class="mode browse btn <% if (mode==\'browse\') { %>btn-primary<% } else {%>btn-default<% } %>"><%- browseModeText %></button>\n</div>\n<% } %>\n<div class="path-wrapper">\n  <span class="pattern-relateditems-path-label"><%- searchText %></span>\n  <a class="crumb" href="/"><span class="glyphicon glyphicon-home"/></a>\n  <%= items %>\n</div>\n<div class="controls pull-right">\n\n  <% if (recentlyUsedItems) { %>\n  <div class="recentlyUsed dropdown pull-right">\n    <button type="button" class="recentlyUsed dropdown-toggle btn btn-primary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n      <span class="glyphicon glyphicon-time"/>\n      <%- recentlyUsedText %>\n      <span class="caret"/>\n    </button>\n    <ul class="dropdown-menu">\n      <%= recentlyUsedItems %>\n    </ul>\n  </div>\n  <% } %>\n\n  <% if (favorites.length > 0) { %>\n  <div class="favorites dropdown pull-right">\n    <button type="button" class="favorites dropdown-toggle btn btn-primary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n      <span class="glyphicon glyphicon-star"/>\n      <%- favText %>\n      <span class="caret"/>\n    </button>\n    <ul class="dropdown-menu">\n      <%= favItems %>\n    </ul>\n  </div>\n  <% } %>\n</div>\n'},129:function(e,t,i){var n,s,o;s=[i(0)],void 0===(o="function"==typeof(n=function(e){var t={exports:{}};return function(){var i,n,s,o,r,a,l,c,h=[].slice,p={}.hasOwnProperty;l=function(){},n=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,s;if(i=arguments[0],e=2<=arguments.length?h.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[i])for(n=0,s=t.length;n<s;n++)t[n].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,s,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(n=s=0,o=i.length;s<o;n=++s)if(i[n]===t){i.splice(n,1);break}return this},e}(),(i=function(e){var t,i;function s(e,i){var n,o,r;if(this.element=e,this.version=s.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(s.instances.push(this),this.element.dropzone=this,n=null!=(r=s.optionsForElement(this.element))?r:{},this.options=t({},this.defaultOptions,n,null!=i?i:{}),this.options.forceFallback||!s.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=s.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=s.getElements(this.options.clickable,"clickable")),this.init()}return function(e,t){for(var i in t)p.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,e),s.prototype.Emitter=n,s.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],s.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,t,i,n,o,r;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,o=(r=this.element.getElementsByTagName("div")).length;n<o;n++)e=r[n],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=s.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(i=t.getElementsByTagName("span")[0])&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,n,o,r,a,l,c,h,p,d,u,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=s.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),n=0,a=(h=e.previewElement.querySelectorAll("[data-dz-name]")).length;n<a;n++)h[n].textContent=this._renameFilename(e.name);for(o=0,l=(p=e.previewElement.querySelectorAll("[data-dz-size]")).length;o<l;o++)p[o].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=s.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),f=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===s.UPLOADING?s.confirm(f.options.dictCancelUploadConfirmation,(function(){return f.removeFile(e)})):f.options.dictRemoveFileConfirmation?s.confirm(f.options.dictRemoveFileConfirmation,(function(){return f.removeFile(e)})):f.removeFile(e)},u=[],r=0,c=(d=e.previewElement.querySelectorAll("[data-dz-remove]")).length;r<c;r++)i=d[r],u.push(i.addEventListener("click",t));return u}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,s,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),n=0,s=(o=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<s;n++)(i=o[n]).alt=e.name,i.src=t;return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){var i,n,s,o,r;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=[],n=0,s=(o=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<s;n++)i=o[n],r.push(i.textContent=t);return r}},errormultiple:l,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:l,uploadprogress:function(e,t,i){var n,s,o,r,a;if(e.previewElement){for(a=[],s=0,o=(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;s<o;s++)"PROGRESS"===(n=r[s]).nodeName?a.push(n.value=t):a.push(n.style.width=t+"%");return a}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},t=function(){var e,t,i,n,s,o,r;for(n=arguments[0],o=0,r=(i=2<=arguments.length?h.call(arguments,1):[]).length;o<r;o++)for(e in t=i[o])s=t[e],n[e]=s;return n},s.prototype.getAcceptedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted&&s.push(e);return s},s.prototype.getRejectedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted||s.push(e);return s},s.prototype.getFilesWithStatus=function(e){var t,i,n,s,o;for(o=[],i=0,n=(s=this.files).length;i<n;i++)(t=s[i]).status===e&&o.push(t);return o},s.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(s.QUEUED)},s.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(s.UPLOADING)},s.prototype.getAddedFiles=function(){return this.getFilesWithStatus(s.ADDED)},s.prototype.getActiveFiles=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).status!==s.UPLOADING&&e.status!==s.QUEUED||o.push(e);return o},s.prototype.init=function(){var e,t,i,n,o,r,a,l;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(s.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,(i=function(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!=l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.querySelector(l.options.hiddenInputContainer).appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",(function(){var e,t,n,s;if((t=l.hiddenFileInput.files).length)for(n=0,s=t.length;n<s;n++)e=t[n],l.addFile(e);return l.emit("addedfiles",t),i()}))})()),this.URL=null!=(r=window.URL)?r:window.webkitURL,n=0,o=(a=this.events).length;n<o;n++)e=a[n],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(e){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||s.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},s.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,s.instances.splice(s.instances.indexOf(this),1)},s.prototype.updateTotalUploadProgress=function(){var e,t,i,n,s,o,r;if(i=0,t=0,this.getActiveFiles().length){for(s=0,o=(r=this.getActiveFiles()).length;s<o;s++)i+=(e=r[s]).upload.bytesSent,t+=e.upload.total;n=100*i/t}else n=100;return this.emit("totaluploadprogress",n,t,i)},s.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},s.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},s.prototype.getFallbackForm=function(){var e,t,i,n;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=s.createElement(i),"FORM"!==this.element.tagName?(n=s.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:t)},s.prototype.getExistingFallback=function(){var e,t,i,n,s,o;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},n=0,s=(o=["div","form"]).length;n<s;n++)if(i=o[n],e=t(this.element.getElementsByTagName(i)))return e},s.prototype.setupEventListeners=function(){var e,t,i,n,s,o,r;for(r=[],n=0,s=(o=this.listeners).length;n<s;n++)e=o[n],r.push(function(){var n,s;for(t in s=[],n=e.events)i=n[t],s.push(e.element.addEventListener(t,i,!1));return s}());return r},s.prototype.removeEventListeners=function(){var e,t,i,n,s,o,r;for(r=[],n=0,s=(o=this.listeners).length;n<s;n++)e=o[n],r.push(function(){var n,s;for(t in s=[],n=e.events)i=n[t],s.push(e.element.removeEventListener(t,i,!1));return s}());return r},s.prototype.disable=function(){var e,t,i,n,s;for(this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),s=[],t=0,i=(n=this.files).length;t<i;t++)e=n[t],s.push(this.cancelUpload(e));return s},s.prototype.enable=function(){return this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()},s.prototype.filesize=function(e){var t,i,n,s,o,r,a;if(i=0,n="b",e>0){for(t=r=0,a=(o=["TB","GB","MB","KB","b"]).length;r<a;t=++r)if(s=o[t],e>=Math.pow(this.options.filesizeBase,4-t)/10){i=e/Math.pow(this.options.filesizeBase,4-t),n=s;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+n},s.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},s.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&((i=e.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},s.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},s.prototype.handleFiles=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;i<n;i++)t=e[i],s.push(this.addFile(t));return s},s.prototype._addFilesFromItems=function(e){var t,i,n,s,o;for(o=[],n=0,s=e.length;n<s;n++)null!=(i=e[n]).webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?o.push(this.addFile(i.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null==i.getAsFile||null!=i.kind&&"file"!==i.kind?o.push(void 0):o.push(this.addFile(i.getAsFile()));return o},s.prototype._addFilesFromDirectory=function(e,t){var i,n,s,o;return i=e.createReader(),n=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},o=this,(s=function(){return i.readEntries((function(e){var i,n,r;if(e.length>0){for(n=0,r=e.length;n<r;n++)(i=e[n]).isFile?i.file((function(e){if(!o.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,o.addFile(e)})):i.isDirectory&&o._addFilesFromDirectory(i,t+"/"+i.name);s()}return null}),n)})()},s.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):s.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},s.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=s.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(t=this,function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}));var t},s.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},s.prototype.enqueueFile=function(e){if(e.status!==s.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=s.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},s.prototype._thumbnailQueue=[],s.prototype._processingThumbnail=!1,s.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},s.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},s.prototype.removeFile=function(e){if(e.status===s.UPLOADING&&this.cancelUpload(e),this.files=c(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},s.prototype.removeAllFiles=function(e){var t,i,n,o;for(null==e&&(e=!1),i=0,n=(o=this.files.slice()).length;i<n;i++)((t=o[i]).status!==s.UPLOADING||e)&&this.removeFile(t);return null},s.prototype.createThumbnail=function(e,t){var i,n;return(i=new FileReader).onload=(n=this,function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}),i.readAsDataURL(e)},s.prototype.createThumbnailFromUrl=function(e,t,i,n){var s,o;return s=document.createElement("img"),n&&(s.crossOrigin=n),s.onload=(o=this,function(){var t,n,r,l,c,h,p,d;if(e.width=s.width,e.height=s.height,null==(r=o.options.resize.call(o,e)).trgWidth&&(r.trgWidth=r.optWidth),null==r.trgHeight&&(r.trgHeight=r.optHeight),n=(t=document.createElement("canvas")).getContext("2d"),t.width=r.trgWidth,t.height=r.trgHeight,a(n,s,null!=(c=r.srcX)?c:0,null!=(h=r.srcY)?h:0,r.srcWidth,r.srcHeight,null!=(p=r.trgX)?p:0,null!=(d=r.trgY)?d:0,r.trgWidth,r.trgHeight),l=t.toDataURL("image/png"),o.emit("thumbnail",e,l),null!=i)return i()}),null!=i&&(s.onerror=i),s.src=t},s.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,e=i=this.getUploadingFiles().length,!(i>=t)&&(n=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},s.prototype.processFile=function(e){return this.processFiles([e])},s.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).processing=!0,t.status=s.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},s.prototype._getFilesWithXhr=function(e){var t;return function(){var i,n,s,o;for(o=[],i=0,n=(s=this.files).length;i<n;i++)(t=s[i]).xhr===e&&o.push(t);return o}.call(this)},s.prototype.cancelUpload=function(e){var t,i,n,o,r,a,l;if(e.status===s.UPLOADING){for(n=0,r=(i=this._getFilesWithXhr(e.xhr)).length;n<r;n++)(t=i[n]).status=s.CANCELED;for(e.xhr.abort(),o=0,a=i.length;o<a;o++)t=i[o],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==s.ADDED&&l!==s.QUEUED||(e.status=s.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},i=function(){var e,t;return t=arguments[0],e=2<=arguments.length?h.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},s.prototype.uploadFile=function(e){return this.uploadFiles([e])},s.prototype.uploadFiles=function(e){var n,o,r,a,l,c,h,p,d,u,f,m,g,v,b,w,y,S,C,x,T,E,F,k,I,z,U,P,O,D,L,A,R,_;for(S=new XMLHttpRequest,C=0,F=e.length;C<F;C++)(n=e[C]).xhr=S;for(a in m=i(this.options.method,e),w=i(this.options.url,e),S.open(m,w,!0),S.withCredentials=!!this.options.withCredentials,v=null,_=this,r=function(){var t,i,s;for(s=[],t=0,i=e.length;t<i;t++)n=e[t],s.push(_._errorProcessing(e,v||_.options.dictResponseError.replace("{{statusCode}}",S.status),S));return s},b=function(t){return function(i){var s,o,r,a,l,c,h,p,d;if(null!=i)for(o=100*i.loaded/i.total,r=0,c=e.length;r<c;r++)(n=e[r]).upload={progress:o,total:i.total,bytesSent:i.loaded};else{for(s=!0,o=100,a=0,h=e.length;a<h;a++)100===(n=e[a]).upload.progress&&n.upload.bytesSent===n.upload.total||(s=!1),n.upload.progress=o,n.upload.bytesSent=n.upload.total;if(s)return}for(d=[],l=0,p=e.length;l<p;l++)n=e[l],d.push(t.emit("uploadprogress",n,o,n.upload.bytesSent));return d}}(this),S.onload=function(t){return function(i){var n;if(e[0].status!==s.CANCELED&&4===S.readyState){if(v=S.responseText,S.getResponseHeader("content-type")&&~S.getResponseHeader("content-type").indexOf("application/json"))try{v=JSON.parse(v)}catch(e){i=e,v="Invalid JSON response from server."}return b(),200<=(n=S.status)&&n<300?t._finished(e,v,i):r()}}}(this),S.onerror=function(){if(e[0].status!==s.CANCELED)return r()},(null!=(P=S.upload)?P:S).onprogress=b,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&t(c,this.options.headers),c)(l=c[a])&&S.setRequestHeader(a,l);if(o=new FormData,this.options.params)for(f in O=this.options.params)y=O[f],o.append(f,y);for(x=0,k=e.length;x<k;x++)n=e[x],this.emit("sending",n,S,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,S,o),"FORM"===this.element.tagName)for(T=0,I=(D=this.element.querySelectorAll("input, textarea, select, button")).length;T<I;T++)if(d=(p=D[T]).getAttribute("name"),u=p.getAttribute("type"),"SELECT"===p.tagName&&p.hasAttribute("multiple"))for(E=0,z=(L=p.options).length;E<z;E++)(g=L[E]).selected&&o.append(d,g.value);else(!u||"checkbox"!==(A=u.toLowerCase())&&"radio"!==A||p.checked)&&o.append(d,p.value);for(h=U=0,R=e.length-1;0<=R?U<=R:U>=R;h=0<=R?++U:--U)o.append(this._getParamName(h),e[h],this._renameFilename(e[h].name));return this.submitRequest(S,o,e)},s.prototype.submitRequest=function(e,t,i){return e.send(t)},s.prototype._finished=function(e,t,i){var n,o,r;for(o=0,r=e.length;o<r;o++)(n=e[o]).status=s.SUCCESS,this.emit("success",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},s.prototype._errorProcessing=function(e,t,i){var n,o,r;for(o=0,r=e.length;o<r;o++)(n=e[o]).status=s.ERROR,this.emit("error",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},s}(n)).version="4.3.0",i.options={},i.optionsForElement=function(e){return e.getAttribute("id")?i.options[s(e.getAttribute("id"))]:void 0},i.instances=[],i.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},i.autoDiscover=!0,i.discover=function(){var e,t,n,s,o,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],(e=function(e){var t,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?o.push(n.push(t)):o.push(void 0);return o})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],s=0,o=n.length;s<o;s++)t=n[s],!1!==i.optionsForElement(t)?r.push(new i(t)):r.push(void 0);return r},i.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],i.isBrowserSupported=function(){var e,t,n,s;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(t=0,n=(s=i.blacklistedBrowsers).length;t<n;t++)s[t].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},c=function(e,t){var i,n,s,o;for(o=[],n=0,s=e.length;n<s;n++)(i=e[n])!==t&&o.push(i);return o},s=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))},i.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},i.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},i.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},i.getElements=function(e,t){var i,n,s,o,r,a,l;if(e instanceof Array){n=[];try{for(s=0,r=e.length;s<r;s++)i=e[s],n.push(this.getElement(i,t))}catch(e){n=null}}else if("string"==typeof e)for(n=[],o=0,a=(l=document.querySelectorAll(e)).length;o<a;o++)i=l[o],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},i.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},i.isValidFile=function(e,t){var i,n,s,o,r;if(!t)return!0;for(t=t.split(","),i=(n=e.type).replace(/\/.*$/,""),o=0,r=t.length;o<r;o++)if("."===(s=(s=t[o]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},null!=e&&(e.fn.dropzone=function(e){return this.each((function(){return new i(this,e)}))}),null!=t?t.exports=i:window.Dropzone=i,i.ADDED="added",i.QUEUED="queued",i.ACCEPTED=i.QUEUED,i.UPLOADING="uploading",i.PROCESSING=i.UPLOADING,i.CANCELED="canceled",i.ERROR="error",i.SUCCESS="success",r=function(e){var t,i,n,s,o,r,a,l;for(e.naturalWidth,o=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=o,(i=t.getContext("2d")).drawImage(e,0,0),n=i.getImageData(0,0,1,o).data,l=0,s=o,r=o;r>l;)0===n[4*(r-1)+3]?s=r:l=r,r=s+l>>1;return 0==(a=r/o)?1:a},a=function(e,t,i,n,s,o,a,l,c,h){var p;return p=r(t),e.drawImage(t,i,n,s,o,a,l,c,h/p)},o=function(e,t){var i,n,s,o,r,a,l,c,h;if(s=!1,h=!0,n=e.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",o=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?e:n)[l](a+i.type,o,!1),!s&&(s=!0)?t.call(e,i.type||i):void 0},r=function(){try{c.doScroll("left")}catch(e){return void setTimeout(r,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{h=!e.frameElement}catch(e){}h&&r()}return n[i](a+"DOMContentLoaded",o,!1),n[i](a+"readystatechange",o,!1),e[i](a+"load",o,!1)}},i._autoDiscoverFunction=function(){if(i.autoDiscover)return i.discover()},o(window,i._autoDiscoverFunction)}.call(this),t.exports})?n.apply(t,s):n)||(e.exports=o)},130:function(e,t){e.exports='<div class="upload-container upload-multiple">\n    <h2 class="title"><%- _t("Upload here") %></h2>\n    <p class="help">\n        <%- _t(\'Drag and drop files from your computer onto the area below or click the Browse button.\') %>\n    </p>\n    <div class="upload-area">\n        <div class="fallback">\n            <input name="file" type="file" multiple />\n        </div>\n        <div class="dz-message"><p><%-_t("Drop files here...")%></p></div>\n        <div class="row browse-select">\n            <div class="col-md-9">\n                <input\n                    id="fakeUploadFile"\n                    placeholder="<%- _t("Choose File") %>"\n                    disabled\n                    />\n            </div>\n            <div class="col-md-3">\n                <button\n                    type="button"\n                    class="btn btn-primary browse">\n                    <%- _t("Browse") %>\n                </button>\n            </div>\n        </div>\n        <div class="upload-queue">\n            <div class="previews">\n            </div>\n            <div class="controls">\n                <% if (allowPathSelection) { %>\n                <div class="path">\n                    <label><%- _t("Upload to...") %></label>\n                    <p class="form-help">\n                        <%- _t("Select another destination folder or leave blank to add files to the current location.") %>\n                    </p>\n                    <input\n                        type="text"\n                        name="location"\n                        />\n                </div>\n                <% } %>\n                <div class="actions row">\n                    <div class="col-md-9">\n                        <div class="progress progress-striped active">\n                            <div class="progress-bar progress-bar-success"\n                                 role="progressbar"\n                                 aria-valuenow="0"\n                                 aria-valuemin="0"\n                                 aria-valuemax="100"\n                                 style="width: 0%">\n                                <span class="sr-only">40% Complete (success)</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="col-md-3 align-right">\n                        <button\n                            type="button"\n                            class="btn btn-primary upload-all">\n                            <%- _t("Upload") %>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},131:function(e,t){e.exports='<div class="row item form-inline">\n    <div class="col-xs-2 action">\n        <button\n            type="button"\n            class="btn btn-danger btn-xs remove-item"\n            data-dz-remove=""\n            href="javascript:undefined;">\n            <span class="glyphicon glyphicon-remove"></span>\n        </button>\n    </div>\n    <div class="col-xs-7 title">\n        <div class="dz-preview">\n          <div class="dz-details">\n            <div class="dz-filename"><span data-dz-name></span></div>\n          </div>\n          <div class="dz-error-message"><span data-dz-errormessage></span></div>\n        </div>\n        <div class="dz-progress">\n            <span class="dz-upload" data-dz-uploadprogress></span>\n        </div>\n    </div>\n    <div class="col-xs-3 info">\n        <div class="dz-size" data-dz-size></div>\n        <img data-dz-thumbnail />\n    </div>\n</div>\n'},40:function(e,t,i){var n,s;n=[i(0),i(2),i(42),i(38)],void 0===(s=function(e,t,i,n){"use strict";return i.View.extend({isUIView:!0,eventPrefix:"ui",template:null,idPrefix:"base-",appendInContainer:!0,initialize:function(e){for(var t in this.options=e,this.options)this[t]=this.options[t];this.options._t=n},render:function(){return this.applyTemplate(),this.trigger("render",this),this.afterRender(),this.options.id&&this.$el.attr("id",this.idPrefix+this.options.id),this},afterRender:function(){},serializedModel:function(){return this.options},applyTemplate:function(){if(null!==this.template){var i=e.extend({_t:n},this.options,this.serializedModel()),s=this.template;"string"==typeof s&&(s=t.template(s)),this.$el.html(s(i))}},propagateEvent:function(e){if(e.indexOf(":")>0){var t=e.split(":")[0];if(""!==this.eventPrefix&&(t===this.eventPrefix||t===this.eventPrefix+"."+this.id))return!0}return!1},uiEventTrigger:function(e){var t=[].slice.call(arguments,0);""!==this.eventPrefix&&(t[0]=this.eventPrefix+":"+e,i.View.prototype.trigger.apply(this,t),this.id&&(t[0]=this.eventPrefix+"."+this.id+":"+e,i.View.prototype.trigger.apply(this,t)))}})}.apply(t,n))||(e.exports=s)},46:function(e,t,i){var n,s;n=[i(0),i(37),i(39),i(82),i(83),i(84)],void 0===(s=function(e,t,i){"use strict";return t.extend({name:"select2",trigger:".pat-select2",parser:"mockup",defaults:{separator:","},initializeValues:function(){var t=this;t.options.initialValues&&(t.options.id=function(e){return e.id},t.options.initSelection=function(n,s){var o=[],r=n.val(),a=t.options.initialValues;"string"==typeof t.options.initialValues&&""!==t.options.initialValues&&("{"===t.options.initialValues[0]?a=JSON.parse(t.options.initialValues):(a={},e(t.options.initialValues.split(t.options.separator)).each((function(){var t=this.split(":"),i=e.trim(t[0]),n=e.trim(t[1]);a[i]=n})))),e(r.split(t.options.separator)).each((function(){var e=this;a[this]&&(e=a[this]),o.push({id:i.removeHTML(this),text:i.removeHTML(e)})})),s(o)})},initializeTags:function(){this.options.tags&&"string"==typeof this.options.tags&&("["===this.options.tags.substr(0,1)?this.options.tags=JSON.parse(this.options.tags):this.options.tags=this.options.tags.split(this.options.separator)),this.options.tags&&!this.options.allowNewItems&&(this.options.data=e.map(this.options.tags,(function(e,t){return{id:e,text:e}})),this.options.multiple=!0,delete this.options.tags)},initializeOrdering:function(){var t=this;if(t.options.orderable){var i=function(e,t){return e?e.text:void 0};t.options.formatSelection&&(i=t.options.formatSelection),t.options.formatSelection=function(n,s){return s.parents("li").drag("start",(function(i,n){return e(this).addClass("select2-choice-dragging"),t.$el.select2("onSortStart"),e.drop({tolerance:function(t,i,n){var s=t.pageY>n.top+n.height/2;return e.data(n.elem,"drop+reorder",s?"insertAfter":"insertBefore"),this.contains(n,[t.pageX,t.pageY])}}),e(this).clone().addClass("dragging").css({opacity:.75,position:"absolute"}).appendTo(document.body)})).drag((function(t,i){e(i.proxy).css({top:i.offsetY,left:i.offsetX});var n=i.drop[0],s=e.data(n||{},"drop+reorder");!n||n==i.current&&s==i.method||(e(this)[s](n),i.current=n,i.method=s,i.update())})).drag("end",(function(i,n){e(this).removeClass("select2-choice-dragging"),t.$el.select2("onSortEnd"),e(n.proxy).remove()})).drop("init",(function(e,t){return this!=t.drag})),i(n,s)}}},initializeSelect2:function(){var e=this;function t(t,i){return t?(e.options.debug&&console.debug("callback",t,i),"string"==typeof t&&(t=window[t]),t(i)):t}e.options.formatResultCssClass=function(e){if(e.id)return"select2-option-"+e.id.toLowerCase().replace(/[ \:\)\(\[\]\{\}\_\+\=\&\*\%\#]/g,"-")},e.$el.select2(e.options),e.$el.on("select2-selected",(function(i){t(e.options.onSelected,i)})),e.$el.on("select2-selecting",(function(i){t(e.options.onSelecting,i)})),e.$el.on("select2-deselecting",(function(i){t(e.options.onDeselecting,i)})),e.$el.on("select2-deselected",(function(i){t(e.options.onDeselected,i)})),e.$select2=e.$el.parent().find(".select2-container"),e.$el.parent().off("close.plone-modal.patterns"),e.options.orderable&&e.$select2.addClass("select2-orderable")},opened:function(){return 1===e(".select2-dropdown-open",this.$el.parent()).length},init:function(){var t=this;if(t.options.allowNewItems=!t.options.hasOwnProperty("allowNewItems")||JSON.parse(t.options.allowNewItems),t.options.ajax||t.options.vocabularyUrl){t.options.vocabularyUrl&&(t.options.multiple=void 0===t.options.multiple||t.options.multiple,t.options.ajax=t.options.ajax||{},t.options.ajax.url=t.options.vocabularyUrl,t.options.initSelection=function(n,s){var o=[],r=n.val();e(r.split(t.options.separator)).each((function(){var e=i.removeHTML(this);o.push({id:e,text:e})})),s(o)});var n="";t.options.ajax=e.extend({quietMillis:300,data:function(e,t){return n=e,{query:e,page_limit:10,page:t}},results:function(s,o){var r=s.results;if(t.options.vocabularyUrl){var a=[];e.each(s.results,(function(e,t){a.push(t.id)})),r=[];var l=""===n||e.inArray(n,a)>=0;t.options.allowNewItems&&!l&&(n=i.removeHTML(n),r.push({id:n,text:n})),e.each(s.results,(function(e,t){r.push(t)}))}return{results:r}}},t.options.ajax)}else if(t.options.multiple&&t.$el.is("select")){var s=t.$el.val()||[],o=e.map(t.$el.find("option"),(function(t){return{text:e(t).html(),id:t.value}})),r=e('<input type="hidden" />');r.val(s.join(t.options.separator)),r.attr("class",t.$el.attr("class")),r.attr("name",t.$el.attr("name")),r.attr("id",t.$el.attr("id")),t.$orig=t.$el,t.$el.replaceWith(r),t.$el=r,t.options.data=o}t.initializeValues(),t.initializeTags(),t.initializeOrdering(),t.initializeSelect2()}})}.apply(t,n))||(e.exports=s)},49:function(e,t,i){var n,s;n=[i(2),i(40),i(62)],void 0===(s=function(e,t,i){"use strict";return t.extend({tagName:"a",className:"btn",eventPrefix:"button",context:"default",idPrefix:"btn-",attributes:{href:"#"},extraClasses:[],tooltip:null,template:'<% if (icon) { %><span class="glyphicon glyphicon-<%= icon %>"></span><% } %> <%= title %>',events:{click:"handleClick"},initialize:function(n){if(!n.id){var s=n.title||"";n.id=""!==s?s.toLowerCase().replace(" ","-"):this.cid}t.prototype.initialize.apply(this,[n]),this.on("render",(function(){if(this.$el.attr("title",this.options.title||""),this.$el.attr("aria-label",this.options.title||this.options.tooltip||""),null!==this.context&&this.$el.addClass("btn-"+this.context),e.each(this.extraClasses,function(e){this.$el.addClass(e)}.bind(this)),null!==this.tooltip){this.$el.attr("title",this.tooltip);new i(this.$el);this.$el.on("hidden",(function(e){"hidden"===e.type&&e.stopPropagation()}))}}),this)},handleClick:function(e){e.preventDefault(),this.$el.is(".disabled")||this.uiEventTrigger("click",this,e)},serializedModel:function(){return e.extend({icon:"",title:""},this.options)},disable:function(){this.$el.addClass("disabled")},enable:function(){this.$el.removeClass("disabled")}})}.apply(t,n))||(e.exports=s)},52:function(e,t,i){var n,s;n=[i(0),i(2),i(37),i(46),i(49),i(39),i(1),i(38),i(122),i(123),i(124),i(125),i(126),i(127),i(19)],void 0===(s=function(e,t,n,s,o,r,a,l,c,h,p,d,u,f){"use strict";var m=37,g=39;return n.extend({name:"relateditems",trigger:".pat-relateditems",parser:"mockup",currentPath:void 0,selectedUIDs:[],openAfterInit:void 0,defaults:{vocabularyUrl:null,attributes:["UID","Title","portal_type","path","getURL","getIcon","is_folderish","review_state"],basePath:"",pageSize:10,browsing:void 0,closeOnSelect:!0,contextPath:void 0,dropdownCssClass:"pattern-relateditems-dropdown",favorites:[],recentlyUsed:!1,recentlyUsedMaxItems:20,recentlyUsedKey:"relateditems_recentlyused",maximumSelectionSize:-1,minimumInputLength:0,mode:"auto",orderable:!0,pathOperator:"plone.app.querystring.operation.string.path",rootPath:"/",rootUrl:"",scanSelection:!1,selectableTypes:null,separator:",",sortOn:null,sortOrder:"ascending",tokenSeparators:[","," "],upload:!1,uploadAllowView:void 0,width:"100%",breadcrumbTemplate:c,breadcrumbTemplateSelector:null,favoriteTemplate:h,favoriteTemplateSelector:null,recentlyusedTemplate:p,recentlyusedTemplateSelector:null,resultTemplate:d,resultTemplateSelector:null,selectionTemplate:u,selectionTemplateSelector:null,toolbarTemplate:f,toolbarTemplateSelector:null,multiple:!0},recentlyUsed:function(e){var t=r.storage.get(this.options.recentlyUsedKey)||[];t=t.slice(t.length-1e3,t.length),e&&t.filter(this.isSelectable.bind(this));var i=parseInt(this.options.recentlyUsedMaxItems,10);return i&&(t=t.slice(t.length-i,t.length)),t},applyTemplate:function(i,n){var s;this.options[i+"TemplateSelector"]&&(s=e(this.options[i+"TemplateSelector"]).html())||(s=this.options[i+"Template"]);var o=e.extend(!0,{},this.options,n,{browsing:this.browsing,open_folder:l("Open folder"),current_directory:l("current directory:"),one_level_up:l("Go one level up")});return o._item=n,t.template(s)(o)},setAjax:function(){var e={url:this.options.vocabularyUrl,dataType:"JSON",quietMillis:500,data:function(e,t){var i=[];e&&(e="*"+e+"*",i.push({i:"SearchableText",o:"plone.app.querystring.operation.string.contains",v:e})),!this.browsing&&this.options.selectableTypes&&i.push({i:"portal_type",o:"plone.app.querystring.operation.selection.any",v:this.options.selectableTypes}),i.push({i:"path",o:this.options.pathOperator,v:this.options.rootPath+this.currentPath+(this.browsing?"::1":"")});var n=this.options.sortOn,s=n?this.options.sortOrder:null;return this.browsing&&null===n&&(n="getObjPositionInParent",s="ascending"),{query:JSON.stringify({criteria:i,sort_on:n,sort_order:s}),attributes:JSON.stringify(this.options.attributes),batch:JSON.stringify({page:t||1,size:this.options.pageSize})}}.bind(this),results:function(e,t){var i=t*this.options.pageSize<e.total,n=e.results;this.selectedUIDs=(this.$el.select2("data")||[]).map((function(e){return e.UID})),n=n.filter(function(e){return!!(this.browsing&&e.is_folderish||this.isSelectable(e)&&-1===this.selectedUIDs.indexOf(e.UID))}.bind(this));var s=this.currentPath.split("/");return 1===t&&this.browsing&&s.length>1&&"/"!==this.currentPath&&(n=[{oneLevelUp:!0,Title:l("One level up"),path:s.slice(0,s.length-1).join("/")||"/",currentPath:this.currentPath,is_folderish:!0,selectable:!1}].concat(n)),{results:n,more:i}}.bind(this)};this.options.ajax=e},renderToolbar:function(){var n,s=this,a=s.currentPath.split("/"),c="",h="";t.each(a,(function(e){if(""!==e){var t={};t.path=c=c+"/"+e,t.text=e,h+=s.applyTemplate("breadcrumb",t)}}));var p="";t.each(s.options.favorites,(function(e){var i=t.clone(e);i.path=i.path.substr(s.options.rootPath.length)||"/",p+=s.applyTemplate("favorite",i)}));var d="";if(s.options.recentlyUsed){var u=s.recentlyUsed(!0);t.each(u.reverse(),(function(e){d+=s.applyTemplate("recentlyused",e)}))}function f(t,i){var n="upload-"+r.generateId(),a=new o({id:n,title:l("Upload"),tooltip:l("Upload files"),icon:"upload"});i&&a.disable(),e(".controls",s.$toolbar).prepend(a.render().el),s.uploadView=new t({triggerView:a,app:s}),e("#btn-"+n,s.$toolbar).append(s.uploadView.render().el)}n=s.applyTemplate("toolbar",{items:h,favItems:p,favText:l("Favorites"),searchText:l("Current path:"),searchModeText:l("Search"),browseModeText:l("Browse"),recentlyUsedItems:d,recentlyUsedText:l("Recently Used")}),s.$toolbar.html(n),e(".dropdown-toggle",s.$toolbar).dropdown(),e(".pattern-relateditems-dropdown").unbind("mouseup"),e(".pattern-relateditems-dropdown").bind("mouseup",(function(e){e.stopPropagation()})),e("button.mode.search",s.$toolbar).on("click",(function(t){t.preventDefault(),s.browsing?(e("button.mode.search",s.$toolbar).toggleClass("btn-primary btn-default"),e("button.mode.browse",s.$toolbar).toggleClass("btn-primary btn-default"),s.browsing=!1,s.$el.select2("data").length>0&&(s.openAfterInit=!0),s.openAfterInit||(s.$el.select2("close"),s.$el.select2("open"))):(s.$el.select2("close"),s.$el.select2("open"))})),e("button.mode.browse",s.$toolbar).on("click",(function(t){t.preventDefault(),s.browsing?(s.$el.select2("close"),s.$el.select2("open")):(e("button.mode.search",s.$toolbar).toggleClass("btn-primary btn-default"),e("button.mode.browse",s.$toolbar).toggleClass("btn-primary btn-default"),s.browsing=!0,s.$el.select2("data").length>0&&(s.openAfterInit=!0),s.openAfterInit||(s.$el.select2("close"),s.$el.select2("open")))})),e("a.crumb",s.$toolbar).on("click",(function(t){t.preventDefault(),s.browseTo(e(this).attr("href"))})),e("a.fav",s.$toolbar).on("click",(function(t){t.preventDefault(),s.browseTo(e(this).attr("href"))})),s.options.recentlyUsed&&e(".pattern-relateditems-recentlyused-select",s.$toolbar).on("click",(function(t){t.preventDefault();var i=e(this).data("uid"),n=s.recentlyUsed().filter((function(e){return e.UID===i}));if(n.length>0&&(n=n[0],s.selectItem(n),s.options.maximumSelectionSize>0&&s.$el.select2("data").length>=s.options.maximumSelectionSize))return})),s.options.upload&&r.featureSupport.dragAndDrop()&&r.featureSupport.fileApi()&&i.e(17).then((function(){var t=[i(275)];(function(t){s.options.uploadAllowView?e.ajax({url:s.options.uploadAllowView,dataType:"JSON",data:{path:s.options.rootPath+s.currentPath},type:"GET",success:function(e){f(t,!e.allowUpload)}}):f(t)}).apply(null,t)})).catch(i.oe)},browseTo:function(e){this.emit("before-browse"),this.currentPath=e,this.$el.select2("close"),this.renderToolbar(),this.$el.select2("open"),this.emit("after-browse")},selectItem:function(e){this.emit("selecting");var t=this.$el.select2("data");if(t.push(e),this.$el.select2("data",t,!0),this.options.recentlyUsed){var i=this.recentlyUsed(),n=i.filter((function(t){return t.UID===e.UID}));n.length>0&&i.splice(i.indexOf(n[0]),1),i.push(e),r.storage.set(this.options.recentlyUsedKey,i)}this.emit("selected")},deselectItem:function(e){this.emit("deselecting");var i=this.$el.select2("data");t.each(i,(function(t,n){t.UID===e.UID&&i.splice(n,1)})),this.$el.select2("data",i,!0),this.emit("deselected")},isSelectable:function(e){return!1!==e.selectable&&(null===this.options.selectableTypes||-1!==this.options.selectableTypes.indexOf(e.portal_type))},init:function(){var t=this;t.browsing="search"!==t.options.mode,t.options.rootPath=t.options.rootPath.replace(/\/$/,""),t.currentPath=t.options.basePath.substr(t.options.rootPath.length)||"/",t.setAjax(),t.$el.wrap('<div class="pattern-relateditems-container" />'),t.$container=t.$el.parents(".pattern-relateditems-container"),t.$container.width(t.options.width),s.prototype.initializeValues.call(t),s.prototype.initializeTags.call(t),t.options.formatSelection=function(i){i=e.extend(!0,{Title:"",getIcon:"",getURL:"",path:"",portal_type:"",review_state:""},i);var n=e(t.applyTemplate("selection",i));if(t.options.scanSelection&&a.scan(n),1==t.options.maximumSelectionSize){var s=i.path,o=s.split("/");s=(o=o.slice(0,-1)).join("/"),t.currentPath=s,t.renderToolbar()}return n},s.prototype.initializeOrdering.call(t),t.options.formatResult=function(i){i.selectable=t.isSelectable(i),i=e.extend(!0,{Title:"",getIcon:"",getURL:"",is_folderish:!1,oneLevelUp:!1,path:"",portal_type:"",review_state:"",selectable:!1},i),-1!==t.selectedUIDs.indexOf(i.UID)&&(i.selectable=!1);var n=e(t.applyTemplate("result",i));return e(".pattern-relateditems-result-select",n).on("click",(function(n){if(n.preventDefault(),e(this).is(".selectable")){var s=e(this).parents(".pattern-relateditems-result");if(s.is(".pattern-relateditems-active"))s.removeClass("pattern-relateditems-active"),t.deselectItem(i);else{if(t.options.maximumSelectionSize>0)t.$el.select2("data").length>=t.options.maximumSelectionSize&&t.$el.select2("close");t.selectItem(i),s.addClass("pattern-relateditems-active"),t.options.closeOnSelect&&t.$el.select2("close")}}})),e(".pattern-relateditems-result-browse",n).on("click",(function(i){i.preventDefault(),i.stopPropagation();var n=e(this).data("path");t.browseTo(n)})),e(n)},t.options.initSelection=function(i,n){var s=e(i).val();if(""!==s){var o=s.split(t.options.separator);new r.QueryHelper(e.extend(!0,{},t.options,{pattern:t})).search("UID","plone.app.querystring.operation.list.contains",o,(function(e){var i=e.results.reduce((function(e,t){return e[t.UID]=t,e}),{});try{n(o.map((function(e){return i[e]})).filter((function(e){return void 0!==e})))}catch(e){}t.openAfterInit&&(t.$el.select2("open"),t.openAfterInit=void 0)}),!1)}},t.options.tokenizer=function(e){"auto"===this.options.mode&&(this.browsing=!e)}.bind(this),t.options.id=function(e){return e.UID},s.prototype.initializeSelect2.call(t),t.$toolbar=e('<div class="toolbar ui-offset-parent" />'),t.$container.prepend(t.$toolbar),t.$el.on("select2-selecting",(function(e){t.isSelectable(e.choice)||e.preventDefault()})),t.renderToolbar(),e(document).on("keyup",t.$el,(function(i){if(s.prototype.opened.call(t)&&(i.which===m||i.which===g)){i.stopPropagation();var n=i.which===m?".pattern-relateditems-result.one-level-up":".select2-highlighted",o=e(".pattern-relateditems-result-browse",n);if(1!==o.length)return;var r=o.data("path");t.browseTo(r)}}))}})}.apply(t,n))||(e.exports=s)},54:function(e,t,i){var n,s;n=[i(0),i(2),i(37),i(52),i(129),i(130),i(131),i(39),i(38)],void 0===(s=function(e,t,i,n,s,o,r,a,l){"use strict";return s.autoDiscover=!1,i.extend({name:"upload",trigger:".pat-upload",parser:"mockup",defaults:{showTitle:!0,url:null,className:"upload",wrap:!1,wrapperTemplate:'<div class="upload-wrapper"/>',fileaddedClassName:"dropping",useTus:!1,container:"",ajaxUpload:!0,paramName:"file",addRemoveLinks:!1,autoCleanResults:!0,previewsContainer:".previews",previewTemplate:null,maxFiles:null,maxFilesize:99999999,allowPathSelection:void 0,relatedItems:{attributes:["UID","Title","Description","getURL","portal_type","path","ModificationDate"],batchSize:20,basePath:"/",vocabularyUrl:null,width:500,maximumSelectionSize:1,selectableTypes:["Folder"]}},init:function(){var i=this,n=o;void 0===i.options.allowPathSelection&&(i.options.allowPathSelection=i.options.baseUrl&&i.options.relativePath),e(document).bind("paste",(function(e){var t=e.originalEvent.clipboardData.items;if(t)for(var n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var s=t[n].getAsFile();i.dropzone.addFile(s)}})),i.currentPath=i.options.currentPath,i.currentFile=0,n=t.template(n)({_t:l,allowPathSelection:i.options.allowPathSelection}),i.$el.addClass(i.options.className),i.$el.append(n),i.$progress=e(".progress-bar-success",i.$el),i.options.showTitle||i.$el.find("h2.title").hide(),i.options.ajaxUpload||(e(".fallback",this.$el).remove(),this.$el.hasClass(".upload-container")?this.$el.addClass("no-ajax-upload"):this.$el.closest(".upload-container").addClass("no-ajax-upload")),i.options.wrap&&(i.$el.wrap(i.options.wrapperTemplate),i.$el=i.$el.parent()),i.options.allowPathSelection?(i.$pathInput=e('input[name="location"]',i.$el),i.relatedItems=i.setupRelatedItems(i.$pathInput)):(e('input[name="location"]',i.$el).parent().remove(),i.relatedItems=null),i.$dropzone=e(".upload-area",i.$el),e("div.browse-select button.browse",i.$el).click((function(e){e.preventDefault(),e.stopPropagation(),(!i.options.maxFiles||i.dropzone.files.length<i.options.maxFiles)&&i.dropzone.hiddenFileInput.click()}));var r=this.getDzoneOptions();try{i.dropzone=new s(i.$dropzone[0],r)}catch(e){throw window.DEBUG&&console.log(e),e}i.dropzone.on("maxfilesreached",(function(){i.showHideControls()})),i.dropzone.on("addedfile",(function(){i.showHideControls()})),i.dropzone.on("removedfile",(function(){i.showHideControls()})),i.dropzone.on("success",(function(t,n){var s;try{s=e.parseJSON(n)}catch(e){s=n}i.$el.trigger("uploadAllCompleted",{data:s,path_uid:i.$pathInput?i.$pathInput.val():null})})),i.options.autoCleanResults&&i.dropzone.on("complete",(function(t){t.status===s.SUCCESS&&setTimeout((function(){e(t.previewElement).fadeOut()}),3e3)})),i.dropzone.on("complete",(function(e){e.status===s.SUCCESS&&1===i.dropzone.files.length&&i.showHideControls()})),i.dropzone.on("error",(function(t,i,n){void 0!==n&&403!==n.status&&e(".dz-error-message span",t.previewElement).html(l("The file transfer failed"))})),i.dropzone.on("totaluploadprogress",(function(e){e=(100*(i.currentFile-1)+e)/(100*i.dropzone.files.length)*100,i.$progress.attr("aria-valuenow",e).css("width",e+"%")})),e(".upload-all",i.$el).click((function(e){e.preventDefault(),e.stopPropagation(),i.processUpload({finished:function(){i.$progress.attr("aria-valuenow",0).css("width","0%")}})})),i.options.clipboardfile&&i.dropzone.addFile(i.options.clipboardfile)},showHideControls:function(){var e=this;e._showHideTimeout&&clearTimeout(e._showHideTimeout),e._showHideTimeout=setTimeout((function(){e._showHideControls()}),50)},_showHideControls:function(){var t=e(".controls",this.$el),i=e(".browse-select",this.$el),n=e(".dz-hidden-input");if(this.options.maxFiles&&(this.dropzone.files.length<this.options.maxFiles?(i.show(),n.prop("disabled",!1)):(i.hide(),n.prop("disabled",!0))),this.dropzone.files.length>0){t.fadeIn("slow");var s=this.dropzone.files[0];e(".dz-error-message span",s.previewElement).html("")}else t.fadeOut("slow")},pathJoin:function(){var e=[];return t.each(arguments,(function(t){t&&("/"===t[0]&&(t=t.substring(1)),"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),e.push(t))})),e.join("/")},getUrl:function(){var e=this.options.url;if(!e)if(this.options.baseUrl&&this.options.relativePath)"/"!==(e=this.options.baseUrl)[e.length-1]&&(e+="/"),e+=this.pathJoin(this.currentPath,this.options.relativePath);else{var t=this.$el.parents("form");e=t.length>0?t.attr("action"):window.location.href}return e},getDzoneOptions:function(){this.options.clickable=!0;var t=e.extend({},this.options);if(t.url=this.getUrl(),t.headers={"X-CSRF-TOKEN":a.getAuthenticator()},t.uploadMultiple=!1,delete t.wrap,delete t.wrapperTemplate,delete t.resultTemplate,delete t.autoCleanResults,delete t.fileaddedClassName,delete t.useTus,this.options.previewsContainer){var i=this.$el.find(this.options.previewsContainer);i.length>0&&(t.previewsContainer=i[0])}return t.autoProcessQueue=!1,t.previewTemplate=r,t},processUpload:function(e){e||(e={});var t=this,i=!1,n=t.options.useTus,o=t.options.fileaddedClassName,r=e.finished;t.currentFile=0,function e(){i=!0,0===t.dropzone.files.length&&(i=!1);var a=t.dropzone.files[0];if(i&&a.status===s.ERROR&&(a.status=s.QUEUED,i=!1),!i)return t.$el.removeClass(o),void(void 0!==r&&"function"==typeof r&&r());-1!==[s.SUCCESS,s.CANCELED].indexOf(a.status)?(t.dropzone.removeFile(a),e()):a.status!==s.UPLOADING?(n&&window.tus?t.handleTusUpload(a):(t.currentFile+=1,t.dropzone.processFile(a)),setTimeout(e,100)):setTimeout(e,100)}()},handleTusUpload:function(t){var i=this;e(t.previewElement);t.status=s.UPLOADING,window.tus.upload(t,{endpoint:i.dropzone.options.url,headers:{FILENAME:t.name,"X-CSRF-TOKEN":a.getAuthenticator()},chunkSize:5242880}).fail((function(){window.DEBUG&&console.alert(l("Error uploading with TUS resumable uploads")),t.status=s.ERROR})).progress((function(e,t,n){var s=t/n*100;i.$progress.attr("aria-valuenow",s).css("width",s+"%"),i.$progress.html(l("uploading...")+"<br />"+i.formatBytes(t)+" / "+i.formatBytes(n))})).done((function(e,t){t.status=s.SUCCESS,i.dropzone.emit("success",t),i.dropzone.emit("complete",t)}))},formatBytes:function(e){var t=Math.round(e/1024);if(t<1024)return t+" KiB";var i=Math.round(t/1024);return i<1024?i+" MB":Math.round(i/1024)+" GB"},setPath:function(e){this.currentPath=e,this.options.url=null,this.options.url=this.dropzone.options.url=this.getUrl()},setupRelatedItems:function(t){var i=this,s=i.options.relatedItems;s.upload=!1,i.options.initialFolder&&t.attr("value",i.options.initialFolder);var o=new n(t,s);return o.$el.on("change",(function(){var t=e(this).select2("data"),n=null;t.length>0&&(n=t[0].path),i.setPath(n)})),o}})}.apply(t,n))||(e.exports=s)},62:function(e,t,i){var n,s;n=[i(0),i(37)],void 0===(s=function(e,t,i){"use strict";var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};return n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"auto",selector:!1,template:'<div class="tooltip mockup-tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!0,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),o=s.length;o--;){var r=s[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,(function(e,n){i[e]!=n&&(t[e]=n)})),t},n.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),i.leaving=!1,clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout((function(){"in"==i.hoverState&&i.show()}),i.options.delay.show)},n.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(i.leaving=!0,i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout((function(){"out"==i.hoverState&&i.hide()}),i.options.delay.hide)},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var n=this.tip(),s=this.getUID(this.type),o=this;this.setContent().then((function(){n.attr("id",s),o.$element.attr("aria-describedby",s),o.options.animation&&n.addClass("fade");var t="function"==typeof o.options.placement?o.options.placement.call(o,n[0],o.$element[0]):o.options.placement,i=/\s?auto?\s?/i,r=i.test(t);r&&(t=t.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(t).data("bs."+o.type,o),o.options.container?n.appendTo(o.options.container):n.insertAfter(o.$element);var a=o.getPosition(),l=n[0].offsetWidth,c=n[0].offsetHeight;if(r){var h=t,p=o.$element.parent(),d=o.getPosition(p);t="bottom"==t&&a.top+a.height+c-d.scroll>d.height?"top":"top"==t&&a.top-d.scroll-c<0?"bottom":"right"==t&&a.right+l>d.width?"left":"left"==t&&a.left-l<d.left?"right":t,n.removeClass(h).addClass(t)}var u=o.getCalculatedOffset(t,a,l,c);o.applyPlacement(u,t);var f=function(){o.$element.trigger("shown.bs."+o.type),o.hoverState=null,o.leaving&&o.leave(o)};e.support.transition&&o.$tip.hasClass("fade")?n.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}))}},n.prototype.applyPlacement=function(t,i){var n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top=t.top+r,t.left=t.left+a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=o&&(t.top=t.top+o-c);var h=this.getViewportAdjustedDelta(i,t,l,c);h.left?t.left+=h.left:t.top+=h.top;var p=h.left?2*h.left-s+l:2*h.top-o+c,d=h.left?"left":"top",u=h.left?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][u],d)},n.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),i=this.options.html?"html":"text",n=this.options.patTooltip?this.options.patTooltip.contentSelector:null;function s(s){"html"===i&&n&&(s=e(s).find(n).html()),t.find(".tooltip-inner")[i](s)}function o(){t.removeClass("fade in top bottom left right")}var r=this.getTitle(),a=this.getUrl();return a?(o(),e.get(a).then((function(e){s(e)}))):(o(),s(r),new Promise((function(e,t){e(r)})))},n.prototype.getUrl=function(){return this.options.patTooltip?this.options.patTooltip.ajaxUrl:null},n.prototype.hide=function(){var t=this,i=this.tip(),n=e.Event("hide.bs."+this.type);function s(){"in"!=t.hoverState&&i.detach(),t.$element.trigger("hidden.bs."+t.type)}if(this.$element.removeAttr("aria-describedby"),this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()||this.getUrl()},n.prototype.getPosition=function(t){var i=(t=t||this.$element)[0],n="BODY"==i.tagName;return e.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():null,{scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:n?e(window).width():t.outerWidth(),height:n?e(window).height():t.outerHeight()},n?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-r.scroll,l=t.top+o-r.scroll+n;a<r.top?s.top=r.top-a:l>r.top+r.height&&(s.top=r.top+r.height-l)}else{var c=t.left-o,h=t.left+o+i;c<r.left?s.left=r.left-c:h>r.width&&(s.left=r.left+r.width-h)}return s},n.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},n.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},n.prototype.tip=function(){if(this.$tip)return this.$tip;var t=this.$tip||e(this.options.template);return this.options.patTooltip&&(this.options.patTooltip.style&&t.css(this.options.patTooltip.style),this.options.patTooltip.class&&t.addClass(this.options.patTooltip.class),this.options.patTooltip.innerStyle&&t.find(".tooltip-inner").css(this.options.patTooltip.innerStyle)),this.$tip=t,t},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)},t.extend({name:"tooltip",trigger:".pat-tooltip",parser:"mockup",defaults:{html:!1,placement:"top"},init:function(){"true"===this.options.html||!0===this.options.html?this.options.html=!0:this.options.html=!1,this.data=new n(this.$el[0],this.options)}})}.apply(t,n))||(e.exports=s)},82:function(e,t,i){var n,s=i(0);void 0===(n=s).fn.each2&&n.extend(n.fn,{each2:function(e){for(var t=n([0]),i=-1,s=this.length;++i<s&&(t.context=t[0]=this[i])&&!1!==e.call(t[0],i,t););return this}}),function(e,t){"use strict";function i(t){var i=e(document.createTextNode(""));t.before(i),i.before(t),i.remove()}function n(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return A[e]||e}))}function s(e,t){for(var i=0,n=t.length;n>i;i+=1)if(o(e,t[i]))return i;return-1}function o(e,i){return e===i||e!==t&&i!==t&&(null!==e&&null!==i&&(e.constructor===String?e+""==i+"":i.constructor===String&&i+""==e+""))}function r(e,t,i){var n,s,o;if(null===e||e.length<1)return[];for(s=0,o=(n=e.split(t)).length;o>s;s+=1)n[s]=i(n[s]);return n}function a(e){return e.outerWidth(!1)-e.width()}function l(i){var n="keyup-change-value";i.on("keydown",(function(){e.data(i,n)===t&&e.data(i,n,i.val())})),i.on("keyup",(function(){var s=e.data(i,n);s!==t&&i.val()!==s&&(e.removeData(i,n),i.trigger("keyup-change"))}))}function c(i){i.on("mousemove",(function(i){var n=O;(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)}))}function h(e,i,n){var s;return n=n||t,function(){var t=arguments;window.clearTimeout(s),s=window.setTimeout((function(){i.apply(n,t)}),e)}}function p(t){var i=0,n=0;if("selectionStart"in(t=e(t)[0]))i=t.selectionStart,n=t.selectionEnd-i;else if("selection"in document){t.focus();var s=document.selection.createRange();n=document.selection.createRange().text.length,s.moveStart("character",-t.value.length),i=s.text.length-n}return{offset:i,length:n}}function d(e){e.preventDefault(),e.stopPropagation()}function u(t){if(!z){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);(z=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e(document.body).append(z)}return z.text(t.val()),z.width()}function f(t,i,n){var s,o,r=[];(s=e.trim(t.attr("class")))&&e((s=""+s).split(/\s+/)).each2((function(){0===this.indexOf("select2-")&&r.push(this)})),(s=e.trim(i.attr("class")))&&e((s=""+s).split(/\s+/)).each2((function(){0!==this.indexOf("select2-")&&((o=n(this))&&r.push(o))})),t.attr("class",r.join(" "))}function m(e,t,i,s){var o=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),r=t.length;return 0>o?void i.push(s(e)):(i.push(s(e.substring(0,o))),i.push("<span class='select2-match'>"),i.push(s(e.substring(o,o+r))),i.push("</span>"),void i.push(s(e.substring(o+r,e.length))))}function g(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,(function(e){return t[e]}))}function v(i){var n,s=null,o=i.quietMillis||100,r=i.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout((function(){var n=i.data,o=r,c=i.transport||e.fn.select2.ajaxDefaults.transport,h={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},p=e.extend({},e.fn.select2.ajaxDefaults.params,h);n=n?n.call(a,l.term,l.page,l.context):null,o="function"==typeof o?o.call(a,l.term,l.page,l.context):o,s&&"function"==typeof s.abort&&s.abort(),i.params&&(e.isFunction(i.params)?e.extend(p,i.params.call(a)):e.extend(p,i.params)),e.extend(p,{url:o,dataType:i.dataType,data:n,success:function(e){var t=i.results(e,l.page,l);l.callback(t)},error:function(e,t,i){var n={hasError:!0,jqXHR:e,textStatus:t,errorThrown:i};l.callback(n)}}),s=c.call(a,p)}),o)}}function b(t){var i,n,s=t,o=function(e){return""+e.text};e.isArray(s)&&(s={results:n=s}),!1===e.isFunction(s)&&(n=s,s=function(){return n});var r=s();return r.text&&(o=r.text,e.isFunction(o)||(i=r.text,o=function(e){return e[i]})),function(t){var i,n=t.term,r={results:[]};return""===n?void t.callback(s()):(i=function(s,r){var a,l;if((s=s[0]).children){for(l in a={},s)s.hasOwnProperty(l)&&(a[l]=s[l]);a.children=[],e(s.children).each2((function(e,t){i(t,a.children)})),(a.children.length||t.matcher(n,o(a),s))&&r.push(a)}else t.matcher(n,o(s),s)&&r.push(s)},e(s().results).each2((function(e,t){i(t,r.results)})),void t.callback(r))}}function w(i){var n=e.isFunction(i);return function(s){var o=s.term,r={results:[]},a=n?i(s):i;e.isArray(a)&&(e(a).each((function(){var e=this.text!==t,i=e?this.text:this;(""===o||s.matcher(o,i))&&r.results.push(e?this:{id:this,text:this})})),s.callback(r))}}function y(t,i){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value")}function S(t,i){if(e.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return t.apply(i,n)}return t}function C(t){var i=0;return e.each(t,(function(e,t){t.children?i+=C(t.children):i++})),i}function x(){var t=this;e.each(arguments,(function(e,i){t[i].remove(),t[i]=null}))}function T(t,i){var n=function(){};return(n.prototype=new t).constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var E,F,k,I,z,U,P,O={x:0,y:0},D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&123>=e}},L="<div class='select2-measure-scrollbar'></div>",A={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};U=e(document),I=function(){var e=1;return function(){return e++}}(),E=T(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,o,r=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+I()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=e(document.body),f(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(S(i.containerCss,this.opts.element)),this.container.addClass(S(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",d),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),f(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",d),this.results=n=this.container.find(r),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",d),c(this.results),this.dropdown.on("mousemove-filtered",r,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",r,this.bind((function(e){this._touchEvent=!0,this.highlightUnderEvent(e)}))),this.dropdown.on("touchmove",r,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",r,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind((function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}))),function(e,t){var i=h(e,(function(e){t.trigger("scroll-debounced",e)}));t.on("scroll",(function(e){s(e.target,t.get())>=0&&i(e)}))}(80,this.results),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",(function(e){e.stopPropagation()})),e(this.dropdown).on("change",".select2-input",(function(e){e.stopPropagation()})),e.fn.mousewheel&&n.mousewheel((function(e,t,i,s){var o=n.scrollTop();s>0&&0>=o-s?(n.scrollTop(0),d(e)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),d(e))})),l(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",(function(){o.addClass("select2-focused")})),o.on("blur",(function(){o.removeClass("select2-focused")})),this.dropdown.on("mouseup",r,this.bind((function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))}))),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",(function(e){e.stopPropagation()})),this.lastSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var a=i.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var p=i.element.prop("readonly");p===t&&(p=!1),this.readonly(p),P=P||function(){var t=e(L);t.appendTo(document.body);var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,i=e.data("select2"),n=this;this.close(),e.length&&e[0].detachEvent&&n._sync&&e.each((function(){n._sync&&this.detachEvent("onpropertychange",n._sync)})),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),e.removeData("select2").off(".select2"),e.is("input[type='hidden']")?e.css("display",""):(e.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())),x.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:o(e.attr("locked"),"locked")||o(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var n,s,a,l,c=this;if("select"===(n=i.element).get(0).tagName.toLowerCase()&&(this.select=s=i.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),i.debug=i.debug||e.fn.select2.defaults.debug,i.debug&&console&&console.warn&&(null!=i.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=i.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=i.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=i.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=i.ajax&&null!=i.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=i.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=i.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=i.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=i.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=i.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=i.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),i.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=i.element.data("tags")){var h=i.element.data("tags");e.isArray(h)||(h=[]),i.element.data("select2Tags",h)}if(null!=i.sorter&&(i.sortResults=i.sorter),null!=i.selectOnClose&&(i.selectOnBlur=i.selectOnClose),null!=i.ajax&&e.isFunction(i.ajax.processResults)&&(i.ajax.results=i.ajax.processResults),null!=i.language){var p=i.language;e.isFunction(p.noMatches)&&(i.formatNoMatches=p.noMatches),e.isFunction(p.searching)&&(i.formatSearching=p.searching),e.isFunction(p.inputTooShort)&&(i.formatInputTooShort=p.inputTooShort),e.isFunction(p.inputTooLong)&&(i.formatInputTooLong=p.inputTooLong),e.isFunction(p.loadingMore)&&(i.formatLoading=p.loadingMore),e.isFunction(p.maximumSelected)&&(i.formatSelectionTooBig=p.maximumSelected)}if("function"!=typeof(i=e.extend({},{populateResults:function(n,s,o){var r,a=this.opts.id,l=this.liveRegion;(r=function(n,s,h){var p,d,u,f,m,g,v,b,w,y,S=[];for(p=0,d=(n=i.sortResults(n,s,o)).length;d>p;p+=1)f=!(m=!0===(u=n[p]).disabled)&&a(u)!==t,g=u.children&&u.children.length>0,(v=e("<li></li>")).addClass("select2-results-dept-"+h),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(u)),v.attr("role","presentation"),(b=e(document.createElement("div"))).addClass("select2-result-label"),b.attr("id","select2-result-label-"+I()),b.attr("role","option"),(y=i.formatResult(u,b,o,c.opts.escapeMarkup))!==t&&(b.html(y),v.append(b)),g&&((w=e("<ul></ul>")).addClass("select2-result-sub"),r(u.children,w,h+1),v.append(w)),v.data("select2-data",u),S.push(v[0]);s.append(S),l.text(i.formatMatches(n.length))})(s,n,0)}},e.fn.select2.defaults,i)).id&&(a=i.id,i.id=function(e){return e[a]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s?(i.query=this.bind((function(e){var i,s,o,r={results:[],more:!1},a=e.term;o=function(t,i){var n;t.is("option")?e.matcher(a,t.text(),t)&&i.push(c.optionToData(t)):t.is("optgroup")&&(n=c.optionToData(t),t.children().each2((function(e,t){o(t,n.children)})),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==t&&i.length>0&&((s=this.getPlaceholderOption())&&(i=i.not(s))),i.each2((function(e,t){o(t,r.results)})),e.callback(r)})),i.id=function(e){return e.id}):"query"in i||("ajax"in i?((l=i.element.data("ajax-url"))&&l.length>0&&(i.ajax.url=l),i.query=v.call(i.element,i.ajax)):"data"in i?i.query=b(i.data):"tags"in i&&(i.query=w(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,n){var s=[];e(r(t.val(),i.separator,i.transformVal)).each((function(){var t={id:this,text:this},n=i.tags;e.isFunction(n)&&(n=n()),e(n).each((function(){return o(this.id,t.id)?(t=this,!1):void 0})),s.push(t)})),n(s)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,s=this;n.on("change.select2",this.bind((function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),this._sync=this.bind((function(){var e=n.prop("disabled");e===t&&(e=!1),this.enable(!e);var i=n.prop("readonly");i===t&&(i=!1),this.readonly(i),this.container&&(f(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(f(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass,this.opts.element)))})),n.length&&n[0].attachEvent&&n.each((function(){this.attachEvent("onpropertychange",s._sync)})),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i((function(t){e.each(t,s._sync)})),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,i,n,s,o,r=this.dropdown,a=this.container,l=a.offset(),c=a.outerHeight(!1),h=a.outerWidth(!1),p=r.outerHeight(!1),d=e(window),u=d.width(),f=d.height(),m=d.scrollLeft()+u,g=d.scrollTop()+f,v=l.top+c,b=l.left,w=g>=v+p,y=l.top-p>=d.scrollTop(),C=r.outerWidth(!1);r.hasClass("select2-drop-above")?(i=!0,!y&&w&&(n=!0,i=!1)):(i=!1,!w&&y&&(n=!0,i=!0)),n&&(r.hide(),l=this.container.offset(),c=this.container.outerHeight(!1),h=this.container.outerWidth(!1),p=r.outerHeight(!1),m=d.scrollLeft()+u,g=d.scrollTop()+f,v=l.top+c,b=l.left,C=r.outerWidth(!1),r.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),(C=r.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:P.width))>h?h=C:C=h,p=r.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(v-=(t=this.body.offset()).top,b-=t.left),!(m>=b+C)&&l.left+m+a.outerWidth(!1)>C&&(b=l.left+this.container.outerWidth(!1)-C),s={left:b,width:h},i?(this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above"),p=r.outerHeight(!1),s.top=l.top-p,s.bottom="auto"):(s.top=v,s.bottom="auto",this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),s=e.extend(s,S(this.opts.dropdownCss,this.opts.element)),r.css(s)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),U.on("mousemove.select2Event",(function(e){O.x=e.pageX,O.y=e.pageY})),!0)},opening:function(){var t,n=this.containerEventName,s="scroll."+n,o="resize."+n,r="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",(function(n){i(t);var s,o=e("#select2-drop");o.length>0&&((s=o.data("select2")).opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),n.preventDefault(),n.stopPropagation())}))),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each((function(){e(this).on(o+" "+s+" "+r,(function(e){a.opened()&&a.positionDropdown()}))}))},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,n="resize."+t,s="orientationchange."+t;this.container.parents().add(window).each((function(){e(this).off(i).off(n).off(s)})),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),U.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var e=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return e!==t&&(this.search.val(e),this.search.select(),!0)},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,i,n,s,o,r,a,l,c=this.results;if(!(0>(i=this.highlight()))){if(0==i)return void c.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),s=(l=((n=e(t[i])).offset()||{}).top||0)+n.outerHeight(!0),i===t.length-1&&((a=c.find("li.select2-more-results")).length>0&&(s=a.offset().top+a.outerHeight(!0))),s>(o=c.offset().top+c.outerHeight(!1))&&c.scrollTop(c.scrollTop()+(s-o)),0>(r=l-c.offset().top)&&"none"!=n.css("display")&&c.scrollTop(c.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){var s=e(i[n+=t]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i,n,o=this.findHighlightableChoices();return 0===arguments.length?s(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),(i=e(o[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),void((n=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),i=this.resultsPage+1,n=this,s=this.search.val(),o=this.context;0!==t.length&&(t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:o,matcher:this.opts.matcher,callback:this.bind((function(r){n.opened()&&(n.opts.populateResults.call(this,e,r.results,{term:s,page:i,context:o}),n.postprocessResults(r,!1,!1),!0===r.more?(t.detach().appendTo(e).html(n.opts.escapeMarkup(S(n.opts.formatLoadMore,n.opts.element,i+1))),window.setTimeout((function(){n.loadMoreIfNeeded()}),10)):t.remove(),n.positionDropdown(),n.resultsPage=i,n.context=r.context,this.opts.element.trigger({type:"select2-loaded",items:r}))}))})))},tokenize:function(){},updateResults:function(i){function n(){c.removeClass("select2-active"),d.positionDropdown(),h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(h.text()):d.liveRegion.text(d.opts.formatMatches(h.find('.select2-result-selectable:not(".select2-selected")').length))}function s(e){h.html(e),n()}var r,a,l,c=this.search,h=this.results,p=this.opts,d=this,u=c.val(),f=e.data(this.container,"select2-last-term");if((!0===i||!f||!o(u,f))&&(e.data(this.container,"select2-last-term",u),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(r=this.data(),e.isArray(r)&&r.length>=m&&y(p.formatSelectionTooBig,"formatSelectionTooBig")))return void s("<li class='select2-selection-limit'>"+S(p.formatSelectionTooBig,p.element,m)+"</li>");if(c.val().length<p.minimumInputLength)return s(y(p.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+S(p.formatInputTooShort,p.element,c.val(),p.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(p.maximumInputLength&&c.val().length>p.maximumInputLength)return void s(y(p.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+S(p.formatInputTooLong,p.element,c.val(),p.maximumInputLength)+"</li>":"");p.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+S(p.formatSearching,p.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),(a=this.tokenize())!=t&&null!=a&&c.val(a),this.resultsPage=1,p.query({element:p.element,term:c.val(),page:this.resultsPage,context:null,matcher:p.matcher,callback:this.bind((function(r){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(r.hasError!==t&&y(p.formatAjaxError,"formatAjaxError"))return void s("<li class='select2-ajax-error'>"+S(p.formatAjaxError,p.element,r.jqXHR,r.textStatus,r.errorThrown)+"</li>");if(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==c.val()&&((a=this.opts.createSearchChoice.call(d,c.val(),r.results))!==t&&null!==a&&d.id(a)!==t&&null!==d.id(a)&&0===e(r.results).filter((function(){return o(d.id(this),d.id(a))})).length&&this.opts.createSearchChoicePosition(r.results,a)),0===r.results.length&&y(p.formatNoMatches,"formatNoMatches"))return s("<li class='select2-no-results'>"+S(p.formatNoMatches,p.element,c.val())+"</li>"),void(this.showSearch&&this.showSearch(c.val()));h.empty(),d.opts.populateResults.call(this,h,r.results,{term:c.val(),page:this.resultsPage,context:null}),!0===r.more&&y(p.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+p.escapeMarkup(S(p.formatLoadMore,p.element,this.resultsPage))+"</li>"),window.setTimeout((function(){d.loadMoreIfNeeded()}),10)),this.postprocessResults(r,i),n(),this.opts.element.trigger({type:"select2-loaded",items:r})}}))})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(e){e[0]!==document.activeElement&&window.setTimeout((function(){var t,i=e[0],n=e.val().length;e.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&((t=i.createTextRange()).collapse(!1),t.select()))}),0)}(this.search)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){var t=function(){var t,i,n,s,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if("string"==typeof(t=this.opts.element.attr("style")))for(s=0,o=(i=t.split(";")).length;o>s;s+=1)if(null!==(n=i[s].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&n.length>=1)return n[1];return"resolve"===this.opts.width?(t=this.opts.element.css("width")).indexOf("%")>0?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==t&&this.container.css("width",t)}}),F=T(E,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,i,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(t=this.search.get(0)).createTextRange?((i=t.createTextRange()).collapse(!1),i.select()):t.setSelectionRange&&(n=this.search.val().length,t.setSelectionRange(n,n))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),x.call(this,"selection","focusser")},initContainer:function(){var t,n,s=this.container,o=this.dropdown,r=I();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+r),this.focusser.attr("aria-labelledby","select2-chosen-"+r),this.results.attr("id","select2-results-"+r),this.search.attr("aria-owns","select2-results-"+r),this.focusser.attr("id","s2id_autogen"+r),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind((function(){this.focus()}))),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)return void d(e);switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void d(e);case D.ENTER:return this.selectHighlighted(),void d(e);case D.TAB:return void this.selectHighlighted({noFocus:!0});case D.ESC:return this.cancel(e),void d(e)}}}))),this.search.on("blur",this.bind((function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind((function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()&&e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.ESC){if(!1===this.opts.openOnEnter&&e.which===D.ENTER)return void d(e);if(e.which==D.DOWN||e.which==D.UP||e.which==D.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void d(e)}return e.which==D.DELETE||e.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),void d(e)):void 0}}))),l(this.focusser),this.focusser.on("keyup-change input",this.bind((function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}}))),t.on("mousedown touchstart","abbr",this.bind((function(e){this.isInterfaceEnabled()&&(this.clear(),function(e){e.preventDefault(),e.stopImmediatePropagation()}(e),this.close(),this.selection&&this.selection.focus())}))),t.on("mousedown touchstart",this.bind((function(n){i(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),d(n)}))),o.on("mousedown touchstart",this.bind((function(){this.opts.shouldFocusInput(this)&&this.search.focus()}))),t.on("focus",this.bind((function(e){d(e)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,(function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder(),e.lastSearchTerm=e.search.val())}))}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find("option").filter((function(){return this.selected&&!this.disabled}));t(i.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var s=i.val(),r=null;t.query({matcher:function(e,i,n){var a=o(s,t.id(n));return a&&(r=n),a},callback:e.isFunction(n)?function(){n(r)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,s=this;if(this.findHighlightableChoices().each2((function(e,t){return o(s.id(t.data("select2-data")),s.opts.element.val())?(n=e,!1):void 0})),!1!==i&&(!0===t&&n>=0?this.highlight(n):this.highlight(0)),!0===t){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(C(e.results)>=r)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i,n,s=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),s.empty(),null!==e&&(i=this.opts.formatSelection(e,s,this.opts.escapeMarkup)),i!==t&&s.append(i),(n=this.opts.formatSelectionCssClass(e,s))!==t&&s.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,n=null,s=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(e).find("option").filter((function(){return this.selected})).each2((function(e,t){return n=s.optionToData(t),!1})),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:o});else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,(function(e){s.opts.element.val(e?s.id(e):""),s.updateSelection(e),s.setPlaceholder(),i&&s.triggerChange({added:e,removed:o})}))}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,n=!1;return 0===arguments.length?((i=this.selection.data("select2-data"))==t&&(i=null),i):(this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),arguments.length>1&&(n=arguments[1]),void(e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n)))}}),k=T(E,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find("option").filter((function(){return this.selected&&!this.disabled})).each2((function(e,t){n.push(i.optionToData(t))})),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var s=r(i.val(),t.separator,t.transformVal),a=[];t.query({matcher:function(i,n,r){var l=e.grep(s,(function(e){return o(e,t.id(r))})).length;return l&&a.push(r),l},callback:e.isFunction(n)?function(){for(var e=[],i=0;i<s.length;i++)for(var r=s[i],l=0;l<a.length;l++){var c=a[l];if(o(r,t.id(c))){e.push(c),a.splice(l,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),x.call(this,"searchContainer","selection")},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",(function(t){n.search[0].focus(),n.selectChoice(e(this))})),this.search.attr("id","s2id_autogen"+I()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind((function(){this.focus()}))),this.search.on("input paste",this.bind((function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),s=i.next(".select2-search-choice:not(.select2-locked)"),o=p(this.search);if(i.length&&(e.which==D.LEFT||e.which==D.RIGHT||e.which==D.BACKSPACE||e.which==D.DELETE||e.which==D.ENTER)){var r=i;return e.which==D.LEFT&&n.length?r=n:e.which==D.RIGHT?r=s.length?s:null:e.which===D.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),r=n.length?n:s):e.which==D.DELETE?this.unselect(i.first())&&(this.search.width(10),r=s.length?s:null):e.which==D.ENTER&&(r=null),this.selectChoice(r),d(e),void(r&&r.length||this.open())}if((e.which===D.BACKSPACE&&1==this.keydowns||e.which==D.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void d(e);if(this.selectChoice(null),this.opened())switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void d(e);case D.ENTER:return this.selectHighlighted(),void d(e);case D.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case D.ESC:return this.cancel(e),void d(e)}if(e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.BACKSPACE&&e.which!==D.ESC){if(e.which===D.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)&&d(e),e.which===D.ENTER&&d(e)}}}))),this.search.on("keyup",this.bind((function(e){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))}))),this.container.on("click",i,this.bind((function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))}))),this.container.on("focus",i,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,(function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())}))}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i={},n=[],s=this;e(t).each((function(){s.id(this)in i||(i[s.id(this)]=0,n.push(this))})),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(n),s.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var i=this.getVal(),n=this;e(t).each((function(){i.push(n.createChoice(this))})),this.setVal(i)},createChoice:function(i){var n,s,o=!i.locked,r=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?r:a,c=this.id(i);return(n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup))!=t&&l.find("div").replaceWith(e("<div></div>").html(n)),(s=this.opts.formatSelectionCssClass(i,l.find("div")))!=t&&l.addClass(s),o&&l.find(".select2-search-choice-close").on("mousedown",d).on("click dblclick",this.bind((function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),d(t),this.close(),this.focusSearch())}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),l.data("select2-data",i),l.insertBefore(this.searchContainer),c},unselect:function(t){var i,n,o=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){var r=e.Event("select2-removing");if(r.val=this.id(i),r.choice=i,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;(n=s(this.id(i),o))>=0;)o.splice(n,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(e,t,i){var n=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2((function(e,t){s(a.id(t.data("select2-data")),n)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))})),r.each2((function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")})),-1==this.highlight()&&!1!==i&&!0===this.opts.closeOnSelect&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&y(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+S(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var e,t,i,n,s=a(this.search);e=u(this.search)+10,t=this.search.offset().left,e>(n=(i=this.selection.width())-(t-this.selection.offset().left)-s)&&(n=i-s),40>n&&(n=i-s),0>=n&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:r(e=this.opts.element.val(),this.opts.separator,this.opts.transformVal)},setVal:function(t){if(this.select)this.select.val(t);else{var i=[],n={};e(t).each((function(){this in n||(i.push(this),n[this]=0)})),this.opts.element.val(0===i.length?"":i.join(this.opts.separator))}},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var i=0;i<t.length;i++)for(var n=0;n<e.length;n++)if(o(this.opts.id(t[i]),this.opts.id(e[n]))){t.splice(i,1),i--,e.splice(n,1);break}return{added:t,removed:e}},val:function(i,n){var s,o=this;if(0===arguments.length)return this.getVal();if((s=this.data()).length||(s=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:s}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(s,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(t){var i=e.map(t,o.id);o.setVal(i),o.updateSelection(t),o.clearSearch(),n&&o.triggerChange(o.buildChangeDetails(s,o.data()))}))}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){t.push(i.opts.id(e(this).data("select2-data")))})),this.setVal(t),this.triggerChange()},data:function(t,i){var n,s,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map((function(){return e(this).data("select2-data")})).get():(s=this.data(),t||(t=[]),n=e.map(t,(function(e){return o.opts.id(e)})),this.setVal(n),this.updateSelection(t),this.clearSearch(),void(i&&this.triggerChange(this.buildChangeDetails(s,this.data()))))}}),e.fn.select2=function(){var i,n,o,r,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],p=["val","data"],d={search:"externalSearch"};return this.each((function(){if(0===l.length||"object"==typeof l[0])(i=0===l.length?{}:e.extend({},l[0])).element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),(n=a?new window.Select2.class.multi:new window.Select2.class.single).init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(s(l[0],c)<0)throw"Unknown method: "+l[0];if(r=t,(n=e(this).data("select2"))===t)return;if("container"===(o=l[0])?r=n.container:"dropdown"===o?r=n.dropdown:(d[o]&&(o=d[o]),r=n[o].apply(n,l.slice(1))),s(l[0],h)>=0||s(l[0],p)>=0&&1==l.length)return!1}})),r===t?this:r},e.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var s=[];return m(this.text(e),i.term,s,n),s.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,i,n){return e?n(this.text(e)):t},sortResults:function(e,t,i){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,i){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,i,n,s){var r,a,l,c,h,p=e,d=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=s.tokenSeparators.length;c>l&&(h=s.tokenSeparators[l],!((a=e.indexOf(h))>=0));l++);if(0>a)break;if(r=e.substring(0,a),e=e.substring(a+h.length),r.length>0&&((r=s.createSearchChoice.call(this,r,i))!==t&&null!==r&&s.id(r)!==t&&null!==s.id(r))){for(d=!1,l=0,c=i.length;c>l;l++)if(o(s.id(r),s.id(i[l]))){d=!0;break}d||n(r)}}return p!==e?e:void 0},escapeMarkup:g,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,i){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,i){return"Loading failed"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:v,local:b,tags:w},util:{debounce:h,markMatch:m,escapeMarkup:g,stripDiacritics:n},class:{abstract:E,single:F,multi:k}}}}(s)},83:function(e,t,i){var n=i(0);!function(e){e.fn.drag=function(t,i,n){var s="string"==typeof t?t:"",o=e.isFunction(t)?t:e.isFunction(i)?i:null;return 0!==s.indexOf("drag")&&(s="drag"+s),n=(t==o?i:n)||{},o?this.bind(s,n,o):this.trigger(s)};var t=e.event,i=t.special,n=i.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var i=e.data(this,n.datakey),s=t.data||{};i.related+=1,e.each(n.defaults,(function(e,t){void 0!==s[e]&&(i[e]=s[e])}))},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var i=e.extend({related:0},n.defaults);e.data(this,n.datakey,i),t.add(this,"touchstart mousedown",n.init,i),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){(e.data(this,n.datakey)||{}).related||(e.removeData(this,n.datakey),t.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(s){if(!n.touched){var o,r=s.data;if(!(0!=s.which&&r.which>0&&s.which!=r.which)&&!e(s.target).is(r.not)&&(!r.handle||e(s.target).closest(r.handle,s.currentTarget).length)&&(n.touched="touchstart"==s.type?this:null,r.propagates=1,r.mousedown=this,r.interactions=[n.interaction(this,r)],r.target=s.target,r.pageX=s.pageX,r.pageY=s.pageY,r.dragging=null,o=n.hijack(s,"draginit",r),r.propagates))return(o=n.flatten(o))&&o.length&&(r.interactions=[],e.each(o,(function(){r.interactions.push(n.interaction(this,r))}))),r.propagates=r.interactions.length,!1!==r.drop&&i.drop&&i.drop.handler(s,r),n.textselect(!1),n.touched?t.add(n.touched,"touchmove touchend",n.handler,r):t.add(document,"mousemove mouseup",n.handler,r),!(!n.touched||r.live)&&void 0}},interaction:function(t,i){var s=e(t)[i.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new n.callback,droppable:[],offset:s}},handler:function(s){var o=s.data;switch(s.type){case!o.dragging&&"touchmove":s.preventDefault();case!o.dragging&&"mousemove":if(Math.pow(s.pageX-o.pageX,2)+Math.pow(s.pageY-o.pageY,2)<Math.pow(o.distance,2))break;s.target=o.target,n.hijack(s,"dragstart",o),o.propagates&&(o.dragging=!0);case"touchmove":s.preventDefault();case"mousemove":if(o.dragging){if(n.hijack(s,"drag",o),o.propagates){!1!==o.drop&&i.drop&&i.drop.handler(s,o);break}s.type="mouseup"}case"touchend":case"mouseup":default:n.touched?t.remove(n.touched,"touchmove touchend",n.handler):t.remove(document,"mousemove mouseup",n.handler),o.dragging&&(!1!==o.drop&&i.drop&&i.drop.handler(s,o),n.hijack(s,"dragend",o)),n.textselect(!0),!1===o.click&&o.dragging&&e.data(o.mousedown,"suppress.click",(new Date).getTime()+5),o.dragging=n.touched=!1}},hijack:function(i,s,o,r,a){if(o){var l,c,h,p={event:i.originalEvent,type:i.type},d=s.indexOf("drop")?"drag":"drop",u=r||0,f=isNaN(r)?o.interactions.length:r;i.type=s,i.originalEvent=null,o.results=[];do{if(c=o.interactions[u]){if("dragend"!==s&&c.cancelled)continue;h=n.properties(i,o,c),c.results=[],e(a||c[d]||o.droppable).each((function(r,a){if(h.target=a,i.isPropagationStopped=function(){return!1},!1===(l=a?t.dispatch.call(a,i,h):null)?("drag"==d&&(c.cancelled=!0,o.propagates-=1),"drop"==s&&(c[d][r]=null)):"dropinit"==s&&c.droppable.push(n.element(l)||a),"dragstart"==s&&(c.proxy=e(n.element(l)||c.drag)[0]),c.results.push(l),delete i.result,"dropinit"!==s)return l})),o.results[u]=n.flatten(c.results),"dropinit"==s&&(c.droppable=n.flatten(c.droppable)),"dragstart"!=s||c.cancelled||h.update()}}while(++u<f);return i.type=p.type,i.originalEvent=p.event,n.flatten(o.results)}},properties:function(e,t,i){var s=i.callback;return s.drag=i.drag,s.proxy=i.proxy||i.drag,s.startX=t.pageX,s.startY=t.pageY,s.deltaX=e.pageX-t.pageX,s.deltaY=e.pageY-t.pageY,s.originalX=i.offset.left,s.originalY=i.offset.top,s.offsetX=s.originalX+s.deltaX,s.offsetY=s.originalY+s.deltaY,s.drop=n.flatten((i.drop||[]).slice()),s.available=n.flatten((i.droppable||[]).slice()),s},element:function(e){if(e&&(e.jquery||1==e.nodeType))return e},flatten:function(t){return e.map(t,(function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?n.flatten(t):t}))},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){i.drop&&this.available.length&&e.each(this.available,(function(e){i.drop.locate(this,e)}))}};var s=t.dispatch;t.dispatch=function(t){if(!(e.data(this,"suppress."+t.type)-(new Date).getTime()>0))return s.apply(this,arguments);e.removeData(this,"suppress."+t.type)};var o=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,i){if(i){var n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0]||null;n&&e.each(o.props,(function(e,i){t[i]=n[i]}))}return t}}}(n),e.exports=n.drag},84:function(e,t,i){var n=i(0);!function(e){e.fn.drop=function(t,i,n){var s="string"==typeof t?t:"",o=e.isFunction(t)?t:e.isFunction(i)?i:null;return 0!==s.indexOf("drop")&&(s="drop"+s),n=(t==o?i:n)||{},o?this.bind(s,n,o):this.trigger(s)},e.drop=function(t){t=t||{},i.multi=!0===t.multi?1/0:!1===t.multi?1:isNaN(t.multi)?i.multi:t.multi,i.delay=t.delay||i.delay,i.tolerance=e.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:i.tolerance,i.mode=t.mode||i.mode||"intersect"};var t=e.event.special,i=e.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(t){e.data(this,i.datakey).related+=1},remove:function(){e.data(this,i.datakey).related-=1},setup:function(){if(!e.data(this,i.datakey)){e.data(this,i.datakey,{related:0,active:[],anyactive:0,winner:0,location:{}}),i.targets.push(this)}},teardown:function(){if(!(e.data(this,i.datakey)||{}).related){e.removeData(this,i.datakey);var t=this;i.targets=e.grep(i.targets,(function(e){return e!==t}))}},handler:function(n,s){var o;if(s)switch(n.type){case"mousedown":case"touchstart":o=e(i.targets),"string"==typeof s.drop&&(o=o.filter(s.drop)),o.each((function(){var t=e.data(this,i.datakey);t.active=[],t.anyactive=0,t.winner=0})),s.droppable=o,t.drag.hijack(n,"dropinit",s);break;case"mousemove":case"touchmove":i.event=n,i.timer||i.tolerate(s);break;case"mouseup":case"touchend":i.timer=clearTimeout(i.timer),s.propagates&&(t.drag.hijack(n,"drop",s),t.drag.hijack(n,"dropend",s))}},locate:function(t,n){var s=e.data(t,i.datakey),o=e(t),r=o.offset()||{},a=o.outerHeight(),l=o.outerWidth(),c={elem:t,width:l,height:a,top:r.top,left:r.left,right:r.left+l,bottom:r.top+a};return s&&(s.location=c,s.index=n,s.elem=t),c},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,i){return this.contains(i,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,i){return Math.max(0,Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top))*Math.max(0,Math.min(i.right,t.right)-Math.max(i.left,t.left))},fit:function(e,t,i){return this.contains(i,t)?1:0},middle:function(e,t,i){return this.contains(i,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(n){var s,o,r,a,l,c,h,p,d=0,u=n.interactions.length,f=[i.event.pageX,i.event.pageY],m=i.tolerance||i.modes[i.mode];do{if(p=n.interactions[d]){if(!p)return;p.drop=[],l=[],c=p.droppable.length,m&&(r=i.locate(p.proxy)),s=0;do{if(h=p.droppable[s]){if(!(o=(a=e.data(h,i.datakey)).location))continue;a.winner=m?m.call(i,i.event,r,o):i.contains(o,f)?1:0,l.push(a)}}while(++s<c);l.sort(i.sort),s=0;do{(a=l[s])&&(a.winner&&p.drop.length<i.multi?(a.active[d]||a.anyactive||(!1!==t.drag.hijack(i.event,"dropstart",n,d,a.elem)[0]?(a.active[d]=1,a.anyactive+=1):a.winner=0),a.winner&&p.drop.push(a.elem)):a.active[d]&&1==a.anyactive&&(t.drag.hijack(i.event,"dropend",n,d,a.elem),a.active[d]=0,a.anyactive-=1))}while(++s<c)}}while(++d<u);i.last&&f[0]==i.last.pageX&&f[1]==i.last.pageY?delete i.timer:i.timer=setTimeout((function(){i.tolerate(n)}),i.delay),i.last=i.event}};t.dropinit=t.dropstart=t.dropend=i}(n),e.exports=n.drop}}]);